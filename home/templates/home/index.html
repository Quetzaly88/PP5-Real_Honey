{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- Hero section from bootstrap with controls-->
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">

    <div class="carousel-item active">
      <img class="d-block w-100" src="{% static 'images/slide2.jpg' %}" alt="first slide">
      <div class="carousel-caption d-md-block">
        <h3>The location is key!</h3>
        <br>
        <h5>Harvested from the meadows of "Bj√§re Peninsula" in Sweden</h5>
      </div>
    </div>

    <div class="carousel-item">
      <img class="d-block w-100" src="{% static 'images/slide1.jpg' %}" alt="first slide">
      <div class="carousel-caption d-md-block">
        <h3>Unaltered and pure produce</h3>
        <br>
        <h5>Envased directly after recolection. A product that can last many years.</h5>
      </div>
    </div>

    <div class="carousel-item">
      <img class="d-block w-100" src="{% static 'images/slide3.jpg' %}" alt="Third slide">
      <div class="carousel-caption d-md-block">
        <h3>Blomming in different seasons</h3>
        <br>
        <h5>Variety of plant species, providing a rich diet to the bees and creating different types of flavours.</h5>
      </div>
    </div>

    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

<!-- Featured Products Section -->
<div class="container my-5">
  <h2 class="text-center mb-4">Featured Products</h2>
  <div class="row">
    {% for product in featured_products %}
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm">
        <a href="{% url 'product_detail' product.id %}">
          {% if product.image %}
        <img src="{{ product.image.url }}" alt="{{ product.name}}" class="card-img-top">
        {% else %}
        <img src="{%static 'images/default.jpg'}" alt="{{ product.name }}" class="card-img-top">
        {% endif %}
      </a>

        <div class="card-body text-center">
          <h5 class="card-title">{{ product.name }}</h5>
          {% if product.is_featured %}
          <span class="badge badge-warning">Featured</span>
          {% endif %}
          <p class="card-text text-success font-weight-bold">${{ product.product_sizes.first.price }}</p>
          </div>
      </div>
    </div>
  {% empty %}
  <p class="text-center">No featured products</p>
  {% endfor %}
</div>
</div>

<!-- Best seller sections -->
 <div class="container my-5">
  <h2 class="text-center mb-4">Best Sellers</h2>
  <div class="row">
    {% for product in best_seller_products %}
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm">
        <a href="{% url 'product_detail' product.id %}"
          {% if product.image %}
        <img src="{{ product.image.url }}" alt="{{ product.name }}" class="card-img-top">
        {% else %}
        <img src="{%static 'images/default.jpg'}" alt="{{ product.name }}" class="card-img-top">
        {% endif %}
      </a>
        <div class="card-body text-center">
          <h5 class="card-title">{{ product.name }}</h5>
          {% if product.is_best_seller %}
          <span class="badge badge-success">Best Seller</span>
          {% endif %}
          <p class="card-text text-success font-weight-bold">${{ product.product_sizes.first.price }}</p>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center">No best sellers avaiable</p>
    {% endfor %}
  </div>
 </div>

  {% endblock %}